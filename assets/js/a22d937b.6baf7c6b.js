"use strict";(globalThis.webpackChunkai_book=globalThis.webpackChunkai_book||[]).push([[2667],{6772:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"module2-digital-twin/gazebo-simulation-setup","title":"Gazebo Simulation Setup","description":"Your Virtual Robot Testbed","source":"@site/docs/module2-digital-twin/gazebo-simulation-setup.md","sourceDirName":"module2-digital-twin","slug":"/module2-digital-twin/gazebo-simulation-setup","permalink":"/physical-ai-robotics-book/module2-digital-twin/gazebo-simulation-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/your-username/physical-ai-robotics-book/edit/main/docs/module2-digital-twin/gazebo-simulation-setup.md","tags":[],"version":"current","frontMatter":{},"sidebar":"bookSidebar","previous":{"title":"Chapter 9: Digital Twins in Robotics","permalink":"/physical-ai-robotics-book/module2-digital-twin/digital-twins-in-robotics"},"next":{"title":"Chapter 11: Sensors and Physics Simulation","permalink":"/physical-ai-robotics-book/module2-digital-twin/sensors-and-physics"}}');var t=o(4848),r=o(8453);const a={},s="Gazebo Simulation Setup",l={},d=[{value:"Your Virtual Robot Testbed",id:"your-virtual-robot-testbed",level:2},{value:"1. Installing Gazebo (Garden Distribution)",id:"1-installing-gazebo-garden-distribution",level:3},{value:"2. Understanding the Gazebo Interface",id:"2-understanding-the-gazebo-interface",level:3},{value:"3. Creating a Simple World File",id:"3-creating-a-simple-world-file",level:3},{value:"4. Loading a URDF Robot Model into Gazebo",id:"4-loading-a-urdf-robot-model-into-gazebo",level:3},{value:"Next Steps",id:"next-steps",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"gazebo-simulation-setup",children:"Gazebo Simulation Setup"})}),"\n",(0,t.jsx)(n.h2,{id:"your-virtual-robot-testbed",children:"Your Virtual Robot Testbed"}),"\n",(0,t.jsx)(n.p,{children:"Gazebo is one of the most powerful and widely used 3D robot simulators in the ROS 2 ecosystem. It allows you to accurately simulate complex robotic systems, their environments, and sensor feedback. This chapter will guide you through setting up Gazebo, understanding its basic interface, and loading a simple robot model into a simulated world."}),"\n",(0,t.jsx)(n.h3,{id:"1-installing-gazebo-garden-distribution",children:"1. Installing Gazebo (Garden Distribution)"}),"\n",(0,t.jsx)(n.p,{children:"For ROS 2 Humble (the recommended environment for this book), we typically use Gazebo Garden."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Update package list\nsudo apt update\n\n# Install Gazebo Garden\nsudo apt install ros-humble-gazebo-ros-pkgs # This installs Gazebo Garden and its ROS 2 integration packages\n"})}),"\n",(0,t.jsx)(n.p,{children:"Verify your installation by running Gazebo:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"gazebo # This should launch the Gazebo GUI\n"})}),"\n",(0,t.jsx)(n.h3,{id:"2-understanding-the-gazebo-interface",children:"2. Understanding the Gazebo Interface"}),"\n",(0,t.jsx)(n.p,{children:"When Gazebo launches, you'll see a 3D simulation environment. Key components of the GUI include:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"World View"}),": The main area displaying your robot and environment."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Scene Tree (Left Panel)"}),": Lists all entities (models, lights, ground plane) in the current world."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Insert Panel (Left Panel)"}),": Allows you to add primitive shapes or pre-made models from online repositories (e.g., fuels.gazebosim.org)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Toolbar (Top)"}),": Contains tools for interacting with the simulation (pause, play, step, move, rotate objects)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Status Bar (Bottom)"}),": Displays simulation time, real-time factor, and other useful information."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Familiarize yourself with basic navigation:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Pan"}),": Middle mouse button or Shift + Left mouse button."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Rotate"}),": Left mouse button."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Zoom"}),": Scroll wheel."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"3-creating-a-simple-world-file",children:"3. Creating a Simple World File"}),"\n",(0,t.jsxs)(n.p,{children:["A Gazebo ",(0,t.jsx)(n.code,{children:".world"})," file defines the environment in which your robot will operate. It can include objects, terrain, lighting, and physics properties. Let's create a minimal world."]}),"\n",(0,t.jsxs)(n.p,{children:["Create a file ",(0,t.jsx)(n.code,{children:"simple_world.world"})," in your ROS 2 package (e.g., ",(0,t.jsx)(n.code,{children:"my_ros2_package/worlds/simple_world.world"}),"):"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" ?>\n<sdf version="1.7">\n  <world name="simple_empty_world">\n    <gravity>0 0 -9.8</gravity>\n    <magnetic_field>6e-06 2.3e-05 -4.2e-05</magnetic_field>\n    <sun>\n      <pose>0 0 10 0 0 0</pose>\n    </sun>\n    <model name="ground_plane">\n      <static>true</static>\n      <link name="link">\n        <collision name="collision">\n          <geometry>\n            <plane>\n              <normal>0 0 1</normal>\n              <size>100 100</size>\n            </plane>\n          </geometry>\n          <surface>\n            <friction>\n              <ode>\n                <mu>1.0</mu>\n                <mu2>1.0</mu2>\n              </ode>\n            </friction>\n          </surface>\n        </collision>\n        <visual name="visual">\n          <geometry>\n            <plane>\n              <normal>0 0 1</normal>\n              <size>100 100</size>\n            </plane>\n          </geometry>\n          <material>\n            <ambient>0.8 0.8 0.8 1</ambient>\n            <diffuse>0.8 0.8 0.8 1</diffuse>\n            <specular>0.8 0.8 0.8 1</specular>\n          </material>\n        </visual>\n      </link>\n    </model>\n  </world>\n</sdf>\n'})}),"\n",(0,t.jsx)(n.p,{children:"To launch this world:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"gazebo -s libgazebo_ros_factory.so my_ros2_package/worlds/simple_world.world\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"-s libgazebo_ros_factory.so"})," option loads the Gazebo-ROS bridge plugin, which is essential for ROS 2 to interact with Gazebo."]}),"\n",(0,t.jsx)(n.h3,{id:"4-loading-a-urdf-robot-model-into-gazebo",children:"4. Loading a URDF Robot Model into Gazebo"}),"\n",(0,t.jsxs)(n.p,{children:["In the previous chapter, we created a simple ",(0,t.jsx)(n.code,{children:"my_robot.urdf"}),". To load this into Gazebo, we typically use a ROS 2 launch file."]}),"\n",(0,t.jsxs)(n.p,{children:["Create a launch file ",(0,t.jsx)(n.code,{children:"robot_spawn.launch.py"})," in your package (e.g., ",(0,t.jsx)(n.code,{children:"my_ros2_package/launch/robot_spawn.launch.py"}),"):"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"import os\nfrom ament_index_python.packages import get_package_share_directory\nfrom launch import LaunchDescription\nfrom launch.actions import DeclareLaunchArgument\nfrom launch.substitutions import LaunchConfiguration\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    # Get the path to your URDF file\n    urdf_file_name = 'my_robot.urdf' # Assuming your URDF is in the root of your package share directory\n    urdf_path = os.path.join(\n        get_package_share_directory('my_ros2_package'),\n        urdf_file_name\n    )\n\n    # Robot State Publisher node\n    # Publishes the robot's state from the URDF\n    robot_state_publisher_node = Node(\n        package='robot_state_publisher',\n        executable='robot_state_publisher',\n        parameters=[{'robot_description': LaunchConfiguration('robot_description')}],\n        arguments=[urdf_path]\n    )\n\n    # Spawn the robot into Gazebo\n    spawn_entity = Node(\n        package='gazebo_ros',\n        executable='spawn_entity.py',\n        arguments=['-topic', 'robot_description', '-entity', 'my_robot'],\n        output='screen'\n    )\n\n    return LaunchDescription([\n        DeclareLaunchArgument(\n            name='robot_description',\n            default_value='<robot name=\"my_robot\"></robot>', # This is a placeholder, actual content from URDF\n            description='URDF description of the robot to spawn'\n        ),\n        robot_state_publisher_node,\n        spawn_entity\n    ])\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note"}),": The ",(0,t.jsx)(n.code,{children:"robot_description"})," argument in ",(0,t.jsx)(n.code,{children:"robot_state_publisher"})," is often populated directly from the URDF content for complex models, but for simplicity here, ",(0,t.jsx)(n.code,{children:"arguments=[urdf_path]"})," can work if the ",(0,t.jsx)(n.code,{children:"robot_description"})," parameter is directly set. A more robust way is to read the URDF file content into ",(0,t.jsx)(n.code,{children:"LaunchConfiguration('robot_description')"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["To launch the robot in Gazebo (you need to have Gazebo running with ",(0,t.jsx)(n.code,{children:"gazebo my_ros2_package/worlds/simple_world.world"})," first, or integrate this into a single launch file):"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ros2 launch my_ros2_package robot_spawn.launch.py\n"})}),"\n",(0,t.jsxs)(n.p,{children:["After running this, you should see your ",(0,t.jsx)(n.code,{children:"my_robot"})," appear in the Gazebo simulation."]}),"\n",(0,t.jsx)(n.h3,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsx)(n.p,{children:"Now that you can set up Gazebo and load your robot models, the next chapter will delve into simulating realistic sensors and physics, which are crucial for developing robust robot behaviors."})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>a,x:()=>s});var i=o(6540);const t={},r=i.createContext(t);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);